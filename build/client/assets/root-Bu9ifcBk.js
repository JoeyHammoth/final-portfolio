import{r as s,j as e}from"./jsx-runtime-DexIYAB0.js";import{a as M,t as S,T as $,G as R,b as H}from"./image-pdV0Xro6.js";import{E as O}from"./error-Cw55GrGl.js";import{V as A}from"./visually-hidden-Ba528xEr.js";import{g as C}from"./heading-XaiH5FBh.js";import{u as F}from"./useScrollToHash-D8pXBCrK.js";import{u as q}from"./useWindowSize-mzNSXuUf.js";import{k as B,u as w,n as D,o as G,q as J,s as z,c as P,t as V,M as L,v as I,O as W,S as T,b as U}from"./components-D1Eb6D8q.js";import{c as y}from"./config-TwLiQpRA.js";import"./decoder-text-B4LGNGZM.js";import"./use-spring-DNT8MlhI.js";import"./index-BhXP4waN.js";/**
 * @remix-run/react v2.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */let k="positions";function E({getKey:r,...n}){let{isSpaMode:a}=B(),u=w(),o=D();G({getKey:r,storageKey:k});let t=s.useMemo(()=>{if(!r)return null;let c=r(u,o);return c!==u.key?c:null},[]);if(a)return null;let i=((c,d)=>{if(!window.history.state||!window.history.state.key){let f=Math.random().toString(32).slice(2);window.history.replaceState({key:f},"")}try{let p=JSON.parse(sessionStorage.getItem(c)||"{}")[d||window.history.state.key];typeof p=="number"&&window.scrollTo(0,p)}catch(f){console.error(f),sessionStorage.removeItem(c)}}).toString();return s.createElement("script",J({},n,{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${i})(${JSON.stringify(k)}, ${JSON.stringify(t)})`}}))}const Y=()=>{const[r,n]=s.useState();s.useState(!1);const[a,u]=s.useState(),{theme:o}=M(),t=w(),i=q();s.useRef(),i.width<=C.mobile||i.height<=696;const c=F();return s.useEffect(()=>{n(`${t.pathname}${t.hash}`)},[t]),s.useEffect(()=>{!a||t.pathname!=="/"||(n(`${t.pathname}${a}`),c(a,()=>u(null)))},[t.pathname,c,a]),s.useEffect(()=>{const d=document.querySelectorAll("[data-navbar-item]"),f=o==="dark"?"light":"dark",{innerHeight:p}=window;let x=[],v=[];const N=(m,h,l)=>!(m.bottom-l<h.top||m.top-l>h.bottom),j=()=>{for(const m of v)m.element.dataset.theme=""},g=()=>{const m=document.querySelectorAll(`[data-theme='${f}'][data-invert]`);if(!m)return;x=Array.from(m).map(l=>({element:l,top:l.offsetTop,bottom:l.offsetTop+l.offsetHeight}));const{scrollY:h}=window;j();for(const l of x)if(!(l.top-h>p||l.bottom-h<0))for(const _ of v)N(l,_,h)?_.element.dataset.theme=f:_.element.dataset.theme=""};return o==="light"&&(v=Array.from(d).map(m=>{const h=m.getBoundingClientRect();return{element:m,top:h.top,bottom:h.bottom}}),document.addEventListener("scroll",g),g()),()=>{document.removeEventListener("scroll",g),j()}},[o,i,t.key]),e.jsx(e.Fragment,{})},K="_progress_3typo_2",Q={progress:K};function X(){const[r,n]=s.useState(!1),[a,u]=s.useState(!1),{state:o}=z(),t=s.useRef(),i=s.useRef(0);return s.useEffect(()=>{clearTimeout(i.current),o!=="idle"?i.current=setTimeout(()=>{u(!0)},500):r&&(i.current=setTimeout(()=>{u(!1)},300))},[o,r]),s.useEffect(()=>{if(!t.current)return;const c=new AbortController;return o!=="idle"?n(!1):(Promise.all(t.current.getAnimations({subtree:!0}).map(d=>d.finished)).then(()=>{c.signal.aborted||n(!0)}),()=>{c.abort()})},[o]),e.jsx("div",{className:Q.progress,"data-status":o,"data-visible":a,"data-complete":r,ref:t})}const Z="_container_j3vhn_2",ee="_skip_j3vhn_12",b={container:Z,skip:ee};const fe=()=>[{rel:"preload",href:R,as:"font",type:"font/woff2",crossOrigin:""},{rel:"preload",href:H,as:"font",type:"font/woff2",crossOrigin:""},{rel:"manifest",href:"/manifest.json"},{rel:"icon",href:"/favicon.ico"},{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"},{rel:"shortcut_icon",href:"/shortcut.png",type:"image/png",sizes:"64x64"},{rel:"apple-touch-icon",href:"/icon-256.png",sizes:"256x256"},{rel:"author",href:"/humans.txt",type:"text/plain"}];function de(){var t;let{canonicalUrl:r,theme:n}=P();const a=V(),{state:u}=z();(t=a.formData)!=null&&t.has("theme")&&(n=a.formData.get("theme"));function o(i){a.submit({theme:i||(n==="dark"?"light":"dark")},{action:"/api/set-theme",method:"post"})}return s.useEffect(()=>{console.info(`${y.ascii}
`,`Taking a peek huh? Check out the source code: ${y.repo}

`)},[]),e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"theme-color",content:n==="dark"?"#111":"#0F6158"}),e.jsx("meta",{name:"color-scheme",content:n==="light"?"light dark":"dark light"}),e.jsx("style",{dangerouslySetInnerHTML:{__html:S}}),e.jsx(L,{}),e.jsx(I,{}),e.jsx("link",{rel:"canonical",href:r})]}),e.jsxs("body",{"data-theme":n,children:[e.jsxs($,{theme:n,toggleTheme:o,children:[e.jsx(X,{}),e.jsx(A,{showOnFocus:!0,as:"a",className:b.skip,href:"#main-content",children:"Skip to main content"}),e.jsx(Y,{}),e.jsx("main",{id:"main-content",className:b.container,tabIndex:-1,"data-loading":u==="loading",children:e.jsx(W,{})})]}),e.jsx(E,{}),e.jsx(T,{})]})]})}function pe(){const r=U();return e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"theme-color",content:"#111"}),e.jsx("meta",{name:"color-scheme",content:"dark light"}),e.jsx("style",{dangerouslySetInnerHTML:{__html:S}}),e.jsx(L,{}),e.jsx(I,{})]}),e.jsxs("body",{"data-theme":"dark",children:[e.jsx(O,{error:r}),e.jsx(E,{}),e.jsx(T,{})]})]})}export{pe as ErrorBoundary,de as default,fe as links};
